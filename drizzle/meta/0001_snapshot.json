{
  "version": "5",
  "dialect": "mysql",
  "id": "47471de2-50e8-4b01-8444-e4cd466a37d2",
  "prevId": "9240e455-4207-4d6a-b5fb-317666ef7e99",
  "tables": {
    "alertLogs": {
      "name": "alertLogs",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "alertType": {
          "name": "alertType",
          "type": "enum('HARDWARE_ERROR','COLLISION_PREVENTION','INVENTORY_THRESHOLD','MAINTENANCE_REQUIRED','SYSTEM_WARNING')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "severity": {
          "name": "severity",
          "type": "enum('INFO','WARNING','CRITICAL')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "deviceId": {
          "name": "deviceId",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "acknowledgedBy": {
          "name": "acknowledgedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acknowledgedAt": {
          "name": "acknowledgedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_alert_type_time": {
          "name": "idx_alert_type_time",
          "columns": [
            "alertType",
            "timestamp"
          ],
          "isUnique": false
        },
        "idx_alert_severity": {
          "name": "idx_alert_severity",
          "columns": [
            "severity",
            "acknowledged"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "alertLogs_acknowledgedBy_users_id_fk": {
          "name": "alertLogs_acknowledgedBy_users_id_fk",
          "tableFrom": "alertLogs",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledgedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "alertLogs_id": {
          "name": "alertLogs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "carriers": {
      "name": "carriers",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "currentZone": {
          "name": "currentZone",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'HBW'"
        },
        "isLocked": {
          "name": "isLocked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "carriers_id": {
          "name": "carriers_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "commandLogs": {
      "name": "commandLogs",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "commandType": {
          "name": "commandType",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "targetDevice": {
          "name": "targetDevice",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payload": {
          "name": "payload",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('PENDING','EXECUTING','COMPLETED','FAILED')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'PENDING'"
        },
        "issuedBy": {
          "name": "issuedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_command_device_time": {
          "name": "idx_command_device_time",
          "columns": [
            "targetDevice",
            "timestamp"
          ],
          "isUnique": false
        },
        "idx_command_status": {
          "name": "idx_command_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "commandLogs_issuedBy_users_id_fk": {
          "name": "commandLogs_issuedBy_users_id_fk",
          "tableFrom": "commandLogs",
          "tableTo": "users",
          "columnsFrom": [
            "issuedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "commandLogs_id": {
          "name": "commandLogs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "cookies": {
      "name": "cookies",
      "columns": {
        "batchUuid": {
          "name": "batchUuid",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "carrierId": {
          "name": "carrierId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "flavor": {
          "name": "flavor",
          "type": "enum('CHOCO','VANILLA','STRAWBERRY')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiryDate": {
          "name": "expiryDate",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('BAKING','STORED','SHIPPED')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'BAKING'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cookies_carrierId_carriers_id_fk": {
          "name": "cookies_carrierId_carriers_id_fk",
          "tableFrom": "cookies",
          "tableTo": "carriers",
          "columnsFrom": [
            "carrierId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "cookies_batchUuid": {
          "name": "cookies_batchUuid",
          "columns": [
            "batchUuid"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "energyLogs": {
      "name": "energyLogs",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "deviceId": {
          "name": "deviceId",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "energyConsumed": {
          "name": "energyConsumed",
          "type": "float",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "voltage": {
          "name": "voltage",
          "type": "float",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "current": {
          "name": "current",
          "type": "float",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "powerFactor": {
          "name": "powerFactor",
          "type": "float",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_energy_device_time": {
          "name": "idx_energy_device_time",
          "columns": [
            "deviceId",
            "timestamp"
          ],
          "isUnique": false
        },
        "idx_energy_timestamp": {
          "name": "idx_energy_timestamp",
          "columns": [
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "energyLogs_id": {
          "name": "energyLogs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "hardwareStates": {
      "name": "hardwareStates",
      "columns": {
        "deviceId": {
          "name": "deviceId",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currentPositionX": {
          "name": "currentPositionX",
          "type": "float",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "currentPositionY": {
          "name": "currentPositionY",
          "type": "float",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "targetPositionX": {
          "name": "targetPositionX",
          "type": "float",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "targetPositionY": {
          "name": "targetPositionY",
          "type": "float",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('IDLE','MOVING','ERROR','MAINTENANCE')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'IDLE'"
        },
        "lastHeartbeat": {
          "name": "lastHeartbeat",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "hardwareStates_deviceId": {
          "name": "hardwareStates_deviceId",
          "columns": [
            "deviceId"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "inventorySlots": {
      "name": "inventorySlots",
      "columns": {
        "slotName": {
          "name": "slotName",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "xPos": {
          "name": "xPos",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "yPos": {
          "name": "yPos",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "carrierId": {
          "name": "carrierId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "inventorySlots_carrierId_carriers_id_fk": {
          "name": "inventorySlots_carrierId_carriers_id_fk",
          "tableFrom": "inventorySlots",
          "tableTo": "carriers",
          "columnsFrom": [
            "carrierId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "inventorySlots_slotName": {
          "name": "inventorySlots_slotName",
          "columns": [
            "slotName"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "telemetryHistory": {
      "name": "telemetryHistory",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "deviceId": {
          "name": "deviceId",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "positionX": {
          "name": "positionX",
          "type": "float",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "positionY": {
          "name": "positionY",
          "type": "float",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isMoving": {
          "name": "isMoving",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "speed": {
          "name": "speed",
          "type": "float",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_telemetry_device_time": {
          "name": "idx_telemetry_device_time",
          "columns": [
            "deviceId",
            "timestamp"
          ],
          "isUnique": false
        },
        "idx_telemetry_timestamp": {
          "name": "idx_telemetry_timestamp",
          "columns": [
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "telemetryHistory_id": {
          "name": "telemetryHistory_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}